<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>DirStat</title>
    <link rel="stylesheet" href="dirstat.min.css">
</head>
<body>
<div id="app" class="container">
    <!-- Header -->
    <header class="d-flex justify-content-between my-4">
        <h1 class="display-5 m-0">&#x1F5C3; DirStat</h1>
        <div class="align-self-center small text-muted text-right d-none d-sm-none d-md-block">
            <strong>DirStat</strong> is a simple graphical web application to show<br>
            where your disk space has gone to help you to clean it up.
        </div>
    </header>
    <!-- Directory selection -->
    <section>
        <!-- Directory path input -->
        <div class="d-flex">
            <input class="form-control flex-grow-1" id="dir" :class="{'is-invalid': error}"
                   placeholder="Type here the path to the folder to analyse and click on the 'Scan' button or press Enter"
                   v-model="dir" :disabled="processing" @keyup.enter="scan">
            <button type="button" class="btn btn-primary ml-2 px-3"
                    @click="scan" :disabled="processing">
                &#x1F50D; Scan
            </button>
        </div>
        <!-- Error message -->
        <div class="text-danger" v-cloak v-if="error">{{ error }}</div>
        <!-- Progress bar -->
        <div class="progress mt-3" v-cloak v-if="processing">
            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                 aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
        </div>
    </section>
    <!-- Navigation controls -->
    <section class="form-inline my-3" v-cloak v-show="graph">
        <!-- Back to the previous level -->
        <div class="form-group">
            <button type="button" class="btn btn-secondary" @click="back" :disabled="path.length <= 1">ðŸ¡¨</button>
        </div>
        <!-- Path -->
        <div class="form-group ml-2">
            <ol id="path" class="breadcrumb my-0 py-2" v-cloak>
                <li class="breadcrumb-item" v-for="entry in path">
                    <a href="#" @click="backTo(entry)">{{ entry.name }}</a>
                </li>
            </ol>
        </div>
        <!-- Change tree map sum mode -->
        <div class="form-group ml-auto">
            <div class="input-group">
                <div class="input-group-prepend">
                    <label for="mode" class="input-group-text">Mode</label>
                </div>
                <select class="custom-select" id="mode" v-model="mode" @change="renderTreemap">
                    <option v-for="m in modes" :value="m">{{ m }}</option>
                </select>
            </div>
        </div>
    </section>
    <!-- Tree map -->
    <section v-cloak id="treemap-container"></section>
</div>
<!-- Scripts -->
<script src="dirstat.min.js"></script>
</body>
</html>
